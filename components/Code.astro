---
import { Code } from "astro/components";
import Text from "./Text.astro";

const { block } = Astro.props;
const blockObjs = block[block.type].rich_text;
---

<Fragment>
  {block[block.type].language !== 'plain text' &&
    blockObjs.map(blockObj => {
      return (
        <Code code={blockObj.plain_text} lang={block[block.type].language} theme='dark-plus' wrap />
      )
  })}

  {block[block.type].language === 'plain text' && (
    <Text as={'pre'} {block} />
  )}
</Fragment>
